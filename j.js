let player,overlay,initialBg,bgEl;const rapImages=["1.png","2.png","3.png","4.png","5.png","6.png","7.png","8.png"],cImages=["initial.png"],rImages=["r.png"],urls=["https://shorturl.at/xB6zj","https://shorturl.at/E5wJO","https://shorturl.at/iuaz4"];rapImages.forEach(t=>new Image().src=t),cImages.forEach(t=>new Image().src=t),rImages.forEach(t=>new Image().src=t);function scheduleFlash(t,e,n,a=rapImages){const i=bgEl.src;let l;setTimeout(()=>{let o=0;bgEl.style.opacity=.03,bgEl.src=a[o],l=setInterval(()=>{o=(o+1)%a.length,bgEl.src=a[o]},n),setTimeout(()=>{clearInterval(l),bgEl.src=i,bgEl.style.opacity=.01},e)},t)}document.addEventListener("DOMContentLoaded",()=>{overlay=document.getElementById("playOverlay"),initialBg=document.getElementById("initialBg"),bgEl=document.getElementById("bgImage"),bgEl.classList.add("pulse")});function onYouTubeIframeAPIReady(){player=new YT.Player("ytPlayer",{videoId:"e0L5U-BWof0",playerVars:{autoplay:0,controls:0,rel:0,modestbranding:1,iv_load_policy:3,disablekb:1,playsinline:1,enablejsapi:1},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function shuffleArray(t){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}function onPlayerReady(){initialBg.style.display="block",overlay.style.display="flex",overlay.addEventListener("click",()=>{player.playVideo(),setTimeout(()=>{bgEl.style.display="block",bgEl.classList.add("pulse"),initialBg.style.display="none",startAmbient(16.25);const e=["image.png"].concat(rImages).concat(cImages);scheduleFlash(14700,8800,1848,shuffleArray(rapImages)),scheduleFlash(3e4,924,924,cImages),scheduleFlash(4e4,1848,1848,cImages),scheduleFlash(47500,29e3,1848,shuffleArray(rapImages)),scheduleFlash(8e4,924,924,cImages),scheduleFlash(88500,924,924,cImages),scheduleFlash(91500,1848,1848,cImages),scheduleFlash(94500,11088,924,shuffleArray(rapImages)),scheduleFlash(12e4,1848,1848,cImages),scheduleFlash(13e4,924,924,cImages),scheduleFlash(14e4,1848,1848,cImages),scheduleFlash(156900,21252,924,shuffleArray(rapImages)),scheduleFlash(19e4,1848,1848,cImages),scheduleFlash(2e5,17556,924,e),scheduleFlash(218800,12012,924,shuffleArray(rapImages)),scheduleFlash(232e3,33e3,924,e),scheduleFlash(265600,4620,4620,rImages),scheduleFlash(28e4,924,924,cImages),scheduleFlash(283e3,924,924,cImages),scheduleFlash(286e3,924,924,cImages),scheduleFlash(289e3,924,924,cImages),scheduleFlash(292e3,4620,4620,cImages),scheduleFlash(3e5,20100,924)},5440)},{once:!0})}function onPlayerStateChange(t){t.data===YT.PlayerState.PLAYING&&player.isMuted()&&(audioToggle.style.display="block"),t.data===YT.PlayerState.ENDED&&(bgEl.style.display="none",initialBg.style.display="block",setTimeout(()=>{initialBg.style.filter="brightness(6%)",initialBg.src="r.png"},6200),setTimeout(()=>{window.location.href=shuffleArray(urls)[0]},10200))}function startAmbient(t){const e=document.createElement("canvas");e.id="ambientCanvas",document.body.appendChild(e);const n=e.getContext("2d");let a,i;function l(){a=e.width=window.innerWidth,i=e.height=window.innerHeight}window.addEventListener("resize",l),l();const o=t/60,p=60,r=10,d=.2,g=4,y=performance.now();(function h(){const f=(performance.now()-y)/1e3,I=(Math.sin(2*Math.PI*o*f)+1)/2,u=d+I*(1-d);e.style.filter=`blur(${u*g}px)`;const m=n.createImageData(a,i),c=m.data,w=(p-r)*u;for(let s=0,b=a*i;s<b;s++){const E=r+Math.random()*w;c[4*s]=c[4*s+1]=c[4*s+2]=150,c[4*s+3]=E}n.putImageData(m,0,0),requestAnimationFrame(h)})()}const audioToggle=document.getElementById("audioToggle");audioToggle.addEventListener("click",()=>{player.isMuted()&&(player.unMute(),player.setVolume(100),audioToggle.style.display="none")});
